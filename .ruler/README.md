# Ruler Files - Coding Standards & Rules

This directory contains markdown files that define coding standards, best practices, and architectural rules for the project. These files are automatically integrated into SKILL files generated by skill-master.

## Purpose

Ruler files serve as:
- âœ… **Single source of truth** for coding standards
- ðŸ“‹ **Rule repository** for skill-master integration
- ðŸ“– **Documentation** for team members
- ðŸ”„ **Auto-sync** with generated SKILL files

## Current Rules

### [typescript-standards.md](./typescript-standards.md)
TypeScript coding standards for the project.

**Sections:**
- **Do**: Best practices (explicit types, strict mode, async/await, etc.)
- **Don't**: Anti-patterns to avoid (any type, var keyword, console.log, etc.)
- **Type Safety**: strictNullChecks, optional chaining, runtime validation
- **Architecture**: Separation of concerns, dependency injection
- **Testing**: Unit tests, coverage goals

### [react-guidelines.md](./react-guidelines.md)
React component best practices.

**Sections:**
- **Do**: Functional components, TypeScript, single responsibility, etc.
- **Don't**: Class components, prop drilling, inline functions, etc.
- **State Management**: useState, useEffect, custom hooks
- **Component Structure**: Import order, sections organization
- **Styling**: Tailwind CSS, responsive design
- **Accessibility**: Semantic HTML, ARIA labels

## Format

Each ruler file should follow this structure:

```markdown
# Rule Category Title

## Overview
Brief description of what this rule file covers

## Do
- Positive rule 1
- Positive rule 2
- Best practice 1
- Recommended approach 1

## Don't
- Negative rule 1
- Anti-pattern 1
- What to avoid 1
- Discouraged practice 1

## [Optional Category 1]
- Additional guidance
- Specific cases
- Context-dependent rules

## [Optional Category 2]
- More specific rules
- Edge cases
- Platform-specific guidance

---
Last updated: YYYY-MM-DD
```

## Integration with Skill-Master

When skill-master generates SKILL files:

1. **Discovers** all `.md` files in `.ruler/`
2. **Extracts** Do/Don't sections from each file
3. **Merges** rules into generated SKILL.md files
4. **Lists** ruler files in SKILL marker comment

Example SKILL.md output:
```markdown
## Rules

### Do
- Use functional components with hooks  # from react-guidelines.md
- Use explicit types for parameters     # from typescript-standards.md
...

### Don't
- Use class components                  # from react-guidelines.md
- Use `any` type                        # from typescript-standards.md
...

<!-- Generated by skill-master command
Sources:
- .ruler/react-guidelines.md
- .ruler/typescript-standards.md
-->
```

## Adding New Rules

To add a new rule file:

1. Create `new-category.md` in this directory
2. Follow the format template above
3. Include Do and Don't sections
4. Run `npm run skill-master:generate` to integrate

Example:
```bash
# Create new rule file
cat > .ruler/api-design.md << 'EOF'
# API Design Standards

## Do
- Use RESTful conventions
- Version your APIs
- Include pagination

## Don't
- Expose internal IDs
- Skip input validation
- Ignore rate limiting
EOF

# Regenerate skills (rules auto-integrated)
npm run skill-master:generate
```

## Best Practices

When writing ruler files:

### âœ… Do
- Keep rules concise (1-2 lines each)
- Focus on project-specific guidance
- Use bullet points for rules
- Update regularly as conventions evolve
- Group related rules together
- Include rationale for complex rules

### âŒ Don't
- Copy generic style guides verbatim
- Include rules contradicting each other
- Write essay-length explanations
- Repeat what linters already enforce
- Include outdated or obsolete rules
- Make rules too specific or too vague

## Rule Categories

Typical categories include:

- **Code Style**: Formatting, naming, organization
- **Architecture**: Patterns, structure, layers
- **Security**: Input validation, authentication, secrets
- **Performance**: Optimization, caching, efficiency
- **Testing**: Coverage, mocking, test structure
- **Documentation**: Comments, JSDoc, README
- **Error Handling**: Try/catch, logging, recovery
- **Dependencies**: Package management, updates

## Examples

### Good Rule (Specific & Actionable)
âœ… "Use async/await over raw promises for better readability"

### Bad Rule (Vague & Generic)
âŒ "Write good code"

### Good Rule (Project-Specific)
âœ… "Use path aliases (@/) for imports instead of relative paths"

### Bad Rule (Already Linted)
âŒ "Use semicolons at end of statements" (ESLint handles this)

## Maintenance

Regular maintenance:

- **Weekly**: Review rules during code reviews
- **Monthly**: Check for outdated rules
- **Quarterly**: Sync with team on standards
- **After major changes**: Update affected rules

## Version Control

Track rule changes:
- Commit ruler file updates separately
- Include rationale in commit messages
- Review ruler changes in PRs
- Document breaking rule changes

## See Also

- [SKILL_MASTER.md](../docs/SKILL_MASTER.md) - Skill-master documentation
- [.claude/skills/](../.claude/skills/) - Generated SKILL files
- [references/](../references/) - Platform references
- [CLAUDE.md](../CLAUDE.md) - Project context for Claude Code

---

**Auto-integrated with skill-master** - Changes here automatically flow to SKILL files.

Last updated: 2026-02-13
